/*! For license information please see YourStoriesPage.MainContent.fe2fbf71.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[4216],{27676:(e,t,n)=>{n.d(t,{A:()=>o});var i,a=n(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const o=function(e){return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:21,height:21,viewBox:"0 0 21 21"},e),i||(i=a.createElement("path",{fillRule:"evenodd",d:"m4 7.331 6.032 6.67.495.547.495-.547 5.973-6.603-.989-.895-5.974 6.603h.99l-6.033-6.67z"})))}},27507:(e,t,n)=>{n.d(t,{A:()=>o});var i,a=n(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const o=function(e){return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m10.506 8.678.589-.59a5.01 5.01 0 0 1 2.474 3.91 6 6 0 0 0-1.01.88 4 4 0 0 0-1.144-3.291 4 4 0 0 0-1.047-.754q.063-.081.137-.155m6.566.909-1.556 1.555a5.7 5.7 0 0 1 1.55-.135l.713-.713a5 5 0 0 0-7.071-7.071L7.879 6.05a5 5 0 0 0 1.027 7.862l.59-.589q.074-.074.137-.155a4 4 0 0 1-1.047-6.411l2.829-2.828a4 4 0 1 1 5.657 5.657M11 16.927q0 .072.002.144l-1.709 1.708a5 5 0 0 1-7.07-7.071l2.382-2.383q.003.646.117 1.297L2.93 12.415a4 4 0 1 0 5.657 5.657l2.587-2.587A6 6 0 0 0 11 16.928M16.857 14a2.86 2.86 0 0 1 2.143.962A2.855 2.855 0 0 1 21.143 14 2.85 2.85 0 0 1 24 16.842c0 .728-.275 1.392-.727 1.895l-.225.237-3.342 3.324a1 1 0 0 1-1.411 0l-3.342-3.324-.225-.237A2.82 2.82 0 0 1 14 16.842 2.85 2.85 0 0 1 16.857 14m5.68 4.059-.204.216L19 21.589l-3.332-3.314-.205-.216A1.82 1.82 0 0 1 15 16.842 1.85 1.85 0 0 1 16.857 15c.557 0 1.054.241 1.395.626l.748.843.748-.843A1.86 1.86 0 0 1 21.143 15c1.03 0 1.857.83 1.857 1.842 0 .467-.173.891-.463 1.217",clipRule:"evenodd"})))}},48642:(e,t,n)=>{n.d(t,{A:()=>o});var i,a=n(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const o=function(e){return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m12.505 9.678.59-.59a5 5 0 0 1 1.027 7.862l-2.829 2.83a5 5 0 0 1-7.07-7.072l2.382-2.383q.002.646.117 1.298l-1.793 1.792a4 4 0 0 0 5.657 5.657l2.828-2.828a4 4 0 0 0-1.046-6.411q.063-.081.137-.155m-1.01 4.646-.589.59a5 5 0 0 1-1.027-7.862l2.828-2.83a5 5 0 0 1 7.071 7.072l-2.382 2.383a7.7 7.7 0 0 0-.117-1.297l1.792-1.793a4 4 0 1 0-5.657-5.657l-2.828 2.828a4 4 0 0 0 1.047 6.411 2 2 0 0 1-.138.155",clipRule:"evenodd"})))}},52752:(e,t,n)=>{n.d(t,{A:()=>o});var i,a=n(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const o=function(e){return a.createElement("svg",r({width:25,height:25,className:"svgIcon-use"},e),i||(i=a.createElement("path",{fillRule:"evenodd",d:"M5 12.5q0 .828.586 1.414.585.585 1.414.586.828 0 1.414-.586.585-.586.586-1.414 0-.828-.586-1.414A1.93 1.93 0 0 0 7 10.5q-.828 0-1.414.586-.585.586-.586 1.414m5.617 0q0 .828.586 1.414.587.585 1.414.586.828 0 1.414-.586t.586-1.414-.586-1.414a1.93 1.93 0 0 0-1.414-.586q-.827 0-1.414.586-.586.586-.586 1.414m5.6 0q0 .828.586 1.414.585.585 1.432.586.827 0 1.413-.586t.587-1.414q0-.828-.587-1.414a1.93 1.93 0 0 0-1.413-.586q-.847 0-1.432.586t-.587 1.414z"})))}},16635:(e,t,n)=>{n.d(t,{A:()=>o});var i,a=n(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const o=function(e){return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19"},e),i||(i=a.createElement("g",{fillRule:"evenodd"},a.createElement("path",{d:"M4.128 12.213A15.4 15.4 0 0 1 1.595 9.93a7 7 0 0 1-.167-.198l-.245-.305.245-.305a13 13 0 0 1 .63-.697A15.4 15.4 0 0 1 3.753 6.92c1.814-1.384 3.76-2.22 5.77-2.22.613 0 1.272.13 1.972.374l-.797.772a4.5 4.5 0 0 0-1.176-.172c-1.763 0-3.519.755-5.178 2.021-.588.448-1.12.93-1.588 1.41-.278.287-.278.36 0 .647a14.4 14.4 0 0 0 2.085 1.772zm3.048 1.57c.77.243 1.553.373 2.346.373.7 0 1.458-.168 2.268-.483.992-.385 2.038-.98 3.105-1.726a25 25 0 0 0 2.679-2.169l.366-.351-.366-.352a23 23 0 0 0-.763-.682 25 25 0 0 0-2.283-1.737l-.716.695a24 24 0 0 1 2.366 1.784c.2.17.2.414 0 .584-.57.488-1.192.975-1.841 1.43-1.009.705-1.99 1.263-2.9 1.616-.705.274-1.349.417-1.915.417a6.6 6.6 0 0 1-1.535-.186z"}),a.createElement("path",{d:"M12.053 9.056q.024.174.024.354c0 1.457-1.22 2.639-2.723 2.639a3 3 0 0 1-.365-.024zM9.719 6.794a3 3 0 0 0-.365-.023c-1.504 0-2.723 1.181-2.723 2.639q0 .18.025.354zM3.603 14.305l-.35.34.679.7.35-.34L14.685 4.921l.35-.339-.679-.7-.35.34z"}))))}},84680:(e,t,n)=>{n.r(t),n.d(t,{MainContent:()=>ut,setPostTypeFromTab:()=>dt,useLoader:()=>ct});var i,a=n(80296),r=n(77969),o=n(39181),l=n(96540),s=n(80545),d=n(54239),c=n(30142),u=n(44929);!function(e){e.Drafts="drafts",e.Unlisted="unlisted",e.Public="public",e.Responses="responses",e.Deleted="deleted"}(i||(i={}));var m=n(52290),p=n(86527),f=n(36557),v=n(51260),k=n(39160),h=n(46879);function g(e){var t,n=e.tab,a=(0,k.d4)((function(e){return e.config.authDomain})),r=(0,k.d4)((function(e){return e.config.productName})),o=(0,v.au)();switch(n){case i.Drafts:t=l.createElement(l.Fragment,null,l.createElement(f.kZ,{scale:"L",color:"DARKER"},"You have no drafts."),l.createElement(m.a,{marginTop:"30px"},l.createElement(f.kZ,{scale:"L",color:"DARKER"},l.createElement(u.D,{type:"link",href:(0,h.HUU)(a),linkStyle:"OBVIOUS",inline:!0},"Write")," ","a story or"," ",l.createElement(p.N,{href:o("ShowHome",{}),linkStyle:"OBVIOUS",inline:!0},"read")," ","on ",r,".")));break;case i.Public:t=l.createElement(f.kZ,{scale:"L",color:"DARKER"},"You haven’t published any public stories yet.");break;case i.Unlisted:t=l.createElement(l.Fragment,null,l.createElement(f.kZ,{scale:"L",color:"DARKER"},"You haven’t published any unlisted stories yet."),l.createElement(m.a,{marginTop:"30px"},l.createElement(f.kZ,{scale:"L",color:"DARKER"},"Unlisted stories are not listed on your profile and do not appear in search results. Only people with the link to an unlisted story can view it.")));break;case i.Deleted:t=l.createElement(l.Fragment,null,l.createElement(f.kZ,{scale:"L",color:"DARKER"},"Your Trash is empty."))}return l.createElement(m.a,{marginTop:"100px",marginBottom:"100px",textAlign:"center"},t)}var y=n(5249),b=n(69733),E=n(75636),S=n(91830),N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"YourStoryDeleteMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}}]}]}}]},w=(0,b.Ng)()((function(e){var t=e.children,n=e.dispatch,i=e.onCompleted,a=!!(0,E.z)({name:"enable_recently_deleted_stories_tab",placeholder:!1});return l.createElement(y.s,{mutation:N,onCompleted:function(){!a&&n((0,S.MZ)({message:"Successfully deleted post.",extraParams:{testId:"deleteSuccessToast"}})),i&&i()}},(function(e,n){return t({mutate:e},n)}))})),P=n(39204),O=n(67459),D=n(52764),T=n(86975),F=n(39410),x=n(27622),C=n(44402),A=n(65550),I=n(6565),L={wordBreak:"break-word",wordWrap:"break-word"},R=(0,b.Ng)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.post,n=e.titleScale,i=void 0===n?"XS":n,a=e.authDomain,r=(0,C.l)(),o=(0,A.L)(),s=(0,O.g)()(t);return l.createElement(D.c,null,(function(e){var n=!t.isPublished&&t.creator&&e&&t.creator.id===e.id&&!o?(0,h.ycK)(a,t.id):s;return l.createElement("div",{className:r(L)},l.createElement(F.hE,{scale:i,clamp:2,tag:"h3"},l.createElement(T.D,{href:n,"data-testid":"postTitle"},(0,I.j)(t.title))),t.previewContent&&t.previewContent.subtitle&&l.createElement(m.a,{marginTop:"4px"},l.createElement(x.Pd,{scale:"S",clamp:2},l.createElement(T.D,{href:n},t.previewContent.subtitle))))}))})),_=n(5600),j=n(16635),B=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}};function V(e){var t=e.visibility,n=(0,C.l)();return t&&"UNLISTED"===t?l.createElement(f.kZ,{scale:"M",tag:"span"},l.createElement(_.G,{maxWidth:300,tooltipText:"The story is only visible to those with the link. It won’t be listed on Medium’s public pages (e.g. homepage) and it cannot be found using a search engine."},l.createElement(j.A,{className:n(B),style:{marginBottom:"1px"}})," Unlisted")):null}var M=n(91271),U=n(18677),z=288e5;function q(e){var t,i=e.firstPublishedAt,a=e.latestPublishedAt;return i?(t=n.g.Date.now()-i<z?l.createElement(l.Fragment,null,l.createElement(U.f,{timestamp:i})):l.createElement(l.Fragment,null,"on ",l.createElement(M.n9,{timestamp:i})),l.createElement(m.a,null,l.createElement(f.kZ,{scale:"M",tag:"span"},"Published"," ",l.createElement(m.a,{display:"inline-block"},a&&l.createElement(_.G,{isVisible:a>i,tooltipText:"Updated ".concat((0,M.ay)(a))},t))))):null}function Y(e){var t=e.readingTime,n=e.updatedAt;return n?l.createElement(m.a,null,l.createElement(f.kZ,{scale:"M",tag:"span",testId:"postListingUpdatedAt"},t?"Last edited":"Created"," ",l.createElement(U.f,{timestamp:n}))):null}var K=n(27715),G="S";function W(e){var t=e.readingTime,n=e.scale,i=void 0===n?G:n,a=e.includeRead,r=void 0===a||a,o=e.color,s=e.tag,d=void 0===s?"span":s,c=r?" read":"";return l.createElement(f.kZ,{scale:i,color:o,tag:d,playwrightClassName:"pw-reading-time"},"".concat((0,K.M8)(t||0)," min").concat(c))}function Z(e){var t=e.wordCount;return t?l.createElement(f.kZ,{scale:"M",tag:"span"},"(".concat(t," word").concat(1===t?"":"s",")")," so far"):null}var H=(0,b.Ng)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.capitalized,n=void 0!==t&&t,i=e.currentLocation,a=e.inline,r=void 0!==a&&a,o=e.post,s=o.collection,d=o.statusForCollection;return s&&"APPROVED"===d?l.createElement(f.kZ,{scale:"M",tag:"span"},n?"In ":"in ",l.createElement(p.N,{href:(0,h.eBL)(s,i),inline:r},s.name)):null}));function X(e){return e.hasUnpublishedEdits?l.createElement(m.a,null,l.createElement(_.G,{placement:"bottom",maxWidth:300,tooltipText:"This story has changes that haven’t been published yet."},l.createElement(f.kZ,{scale:"M",tag:"span"},"Unpublished changes"))):null}var $=n(46696),Q=n(42136),J=n(23029),ee=n(92901),te=n(9417),ne=n(85501),ie=n(56822),ae=n(53954),re=n(64467),oe=n(94971),le=n(32038),se=n(55695),de=n(85864),ce=n(24960),ue=n(26061),me=n(46445),pe=n(42976),fe=n(27676),ve=n(52752),ke=n(45458),he=n(83983),ge={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"YourStoryActionsPopoverMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"deletedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}}]}}].concat((0,ke.A)(he.G.definitions))},ye={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"YourStoryActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"YourStoryActionsPopoverMenu_post"}}]}}].concat((0,ke.A)(ge.definitions))},be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"YourStoryActionsMutationQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostType"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeResponses"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeSuspended"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userPostCounts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeResponsesCount"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"draftPosts"}},{kind:"Field",name:{kind:"Name",value:"publishedRootPosts"}},{kind:"Field",name:{kind:"Name",value:"responsePosts"}},{kind:"Field",name:{kind:"Name",value:"unlistedPosts"}},{kind:"Field",name:{kind:"Name",value:"deletedPosts"}}]}},{kind:"Field",name:{kind:"Name",value:"latestPostsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"includeResponses"},value:{kind:"Variable",name:{kind:"Name",value:"includeResponses"}}},{kind:"Argument",name:{kind:"Name",value:"includeSuspended"},value:{kind:"Variable",name:{kind:"Name",value:"includeSuspended"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postPreviews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postId"}}]}}]}}]}}]}}]},Ee=n(60487),Se=n(19228),Ne=n(14782),we=n(72041),Pe=(0,b.Ng)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t,n,i=e.authDomain,r=e.hide,o=e.isDraft,s=e.post,d=e.showDeleteConfirmation,c=e.confirmDeletePost,m=e.handleEditOptionClick,f=(0,C.l)(),v=(0,Se.qt)(),k=!(0,A.L)(),g=!!(0,E.z)({name:"enable_recently_deleted_stories_tab",placeholder:!1}),y=(0,S.zF)(),b=!!s.deletedAt,N="UNLISTED"===s.visibility,w=!!s.inResponseToPostResult||!!s.inResponseToCatalogResult,P=o?"draft":w?"response":"story",O=null!==(t=null==s||null===(n=s.title)||void 0===n?void 0:n.length)&&void 0!==t?t:0,D=s.title&&s.title.slice(0,35)+(O>35?"...":"")||"",T=function(){return N?"Unlisted":w?"Responses":o?"Drafts":"Published"},F=(0,we.P)(s.id,D,T()),x=(0,a.A)(F,1)[0],I=l.useCallback((function(){c(),setTimeout((function(){return y({duration:"NEXTPAGE",toastStyle:"MOVE_POST_TO_TRASH",extraParams:{postTitle:D,postId:s.id,tab:T()}})}),800)}),[c,y]);return l.createElement(l.Fragment,null,b?l.createElement(Ne.Ni,null,l.createElement(Ne.q3,null,l.createElement(p.N,{linkStyle:"SUBTLE",onClick:function(){return x()}},"Move to ",T()))):l.createElement(Ne.Ni,null,l.createElement(u.D,{"data-testid":"editPostMenuItem",type:"popover",href:(0,h.ycK)(i,s.id),handleClick:m(r,k)},"Edit ",P),l.createElement(Ee.z,{post:s,onClick:r,menuStyle:"TEXT"}),!o&&l.createElement(Ne.q3,null,l.createElement(p.N,{linkStyle:"SUBTLE",href:(0,h.doj)(i,s.id),"data-testid":"viewStatsMenuItem"},"View stats")),l.createElement(Ne.q3,null,l.createElement("div",{className:f({color:v.baseTheme.colorTokens.foreground.error.primary.base}),"data-testid":"deletePostMenuItem"},l.createElement(p.N,{linkStyle:"SUBTLE",onClick:g?I:d(r)},"Delete ",P)))))})),Oe=n(92162);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,re.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}},xe=function(){return null},Ce=function(e){(0,ne.A)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,ae.A)(t);if(n){var a=(0,ae.A)(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return(0,ie.A)(this,e)});function a(e){var t;return(0,J.A)(this,a),(t=i.call(this,e)).confirmDeletePost=function(){var e=t.props,n=e.deletePost,i=e.postType,a=e.post.id;n({variables:{targetPostId:a},update:function(e,t){!function(e,t,n,i){var a,r;if(t){var o={type:n,includeResponses:n!==pe.xj.POST_TYPE_PUBLISHED,includeSuspended:!0},l=e.readQuery({query:be,variables:o});if(null!=l&&null!==(a=l.viewer)&&void 0!==a&&a.latestPostsConnection&&null!=l&&null!==(r=l.viewer)&&void 0!==r&&r.userPostCounts){var s=e.identify({__typename:"PostPreview",postId:i});e.evict({id:s})&&e.gc(),e.modify({id:e.identify({__typename:"User",id:l.viewer.id}),fields:{userPostCounts:function(e){switch(n){case pe.xj.POST_TYPE_DRAFT:return Te(Te({},e),{},{draftPosts:e.draftPosts-1,deletedPosts:e.deletedPosts+1});case pe.xj.POST_TYPE_PUBLISHED:return Te(Te({},e),{},{publishedRootPosts:e.publishedRootPosts-1,deletedPosts:e.deletedPosts+1});case pe.xj.POST_TYPE_UNLISTED:return Te(Te({},e),{},{unlistedPosts:e.unlistedPosts-1,deletedPosts:e.deletedPosts+1});case pe.xj.POST_TYPE_RESPONSE:return Te(Te({},e),{},{responsePosts:e.responsePosts-1,deletedPosts:e.deletedPosts+1});default:return e}}}})}}}(e,t.data,i,a)},awaitRefetchQueries:!0,refetchQueries:function(){return[{query:be,variables:{type:pe.xj.POST_TYPE_DELETED,includeResponses:!0,includeSuspended:!0}}]}})},t.confirmEditDistributedResponsePost=function(){var e=t.props,n=e.authDomain,i=e.post,a=(0,h.ycK)(n,i.id);window.location.replace(a)},t.showDeleteConfirmation=function(e){return function(){e(),t.setState({showDeleteConfirmation:!0})}},t.hideDeleteConfirmation=function(){t.setState({showDeleteConfirmation:!1})},t.handleEditStoryClick=function(e){return function(n){t.props.post.responseDistribution===pe.IZ.DISTRIBUTED&&(n.preventDefault(),n.stopPropagation(),t.showEditConfirmation(e))}},t.showEditConfirmation=function(e){e(),t.setState({showEditConfirmation:!0})},t.hideEditConfirmation=function(){t.setState({showEditConfirmation:!1})},t.confirmDeletePost=t.confirmDeletePost.bind((0,te.A)(t)),t.showDeleteConfirmation=t.showDeleteConfirmation.bind((0,te.A)(t)),t.hideDeleteConfirmation=t.hideDeleteConfirmation.bind((0,te.A)(t)),t.showEditConfirmation=t.showEditConfirmation.bind((0,te.A)(t)),t.hideEditConfirmation=t.hideEditConfirmation.bind((0,te.A)(t)),t.handleEditStoryClick=t.handleEditStoryClick.bind((0,te.A)(t)),t.state={showDeleteConfirmation:!1,showEditConfirmation:!1},t}return(0,ee.A)(a,[{key:"render",value:function(){var e,t,n=this,i=this.props.post,a=i.isPublished,r=i.responseDistribution,o=this.state,s=o.showDeleteConfirmation,d=o.showEditConfirmation,c=r===pe.IZ.DISTRIBUTED,u="yourStoryActionsMenu",f=!!i.inResponseToPostResult||!!i.inResponseToCatalogResult;return c?(e="Delete story and response",t=le.e):f?(e="Delete response",t=l.createElement(Oe.F,null)):(e="Delete story",t=l.createElement(oe.C,null)),l.createElement(l.Fragment,null,l.createElement(de.B,null,(function(e){var t=e.isVisible,r=e.toggle,o=e.hide;return l.createElement(m.a,{display:"flex",alignItems:"center"},l.createElement(ce.A,{ariaId:u,isVisible:t,hide:o,popoverRenderFn:function(){return l.createElement(Pe,{post:i,isDraft:!a,showDeleteConfirmation:n.showDeleteConfirmation,handleEditOptionClick:n.handleEditStoryClick,hide:o,confirmDeletePost:n.confirmDeletePost})}},l.createElement(p.N,{"aria-controls":u,"aria-expanded":t?"true":"false",onClick:r,"data-testid":"yourStoryActionsButton"},l.createElement(se.Q,{name:"enable_seamless_social_sharing",placeholder:xe},(function(e){return l.createElement(ue.A,null,(function(t){return e&&a?l.createElement(ve.A,{className:t(Fe)}):l.createElement(fe.A,{className:t(Fe)})}))})))))})),l.createElement(me.T,{buttonStyle:"WARN",onConfirm:this.confirmDeletePost,isVisible:s,hide:this.hideDeleteConfirmation,titleText:e,confirmText:"Delete",isDestructiveAction:!0,testId:"deleteStoryModal"},t),l.createElement(me.T,{buttonStyle:"STRONG",onConfirm:this.confirmEditDistributedResponsePost,isVisible:d,hide:this.hideEditConfirmation,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},le.T))}}]),a}(l.Component),Ae=(0,b.Ng)((function(e){return{authDomain:e.config.authDomain}}))(Ce);function Ie(e){var t=e.postPreview,n=e.deletePost,i=e.postType,a=t.post,r=(0,O.g)();if(!a)return null;var o=r(a),s={post:{id:(null==a?void 0:a.id)||"",mediumUrl:o,title:null==a?void 0:a.title,creator:null==a?void 0:a.creator,isPublishToEmail:null,isNewsletter:!1,isSeries:null,sequence:null,uniqueSlug:null==a?void 0:a.uniqueSlug,collection:null==a?void 0:a.collection,isPublished:null==a?void 0:a.isPublished,isLocked:null==a?void 0:a.isLocked},source:"your_stories_page"},d=a.updatedAt,c=a.firstPublishedAt,u=a.latestPublishedAt,p=a.isPublished,f=a.creator,v=a.statusForCollection,k=a.collection,h=a.hasUnpublishedEdits,g=a.readingTime,y=a.visibility,b=a.wordCount;return l.createElement(m.a,{paddingTop:"20px",paddingBottom:"20px",borderBottom:"neutral.primary"},l.createElement(R,{post:a}),l.createElement(m.a,{display:"flex",alignItems:"baseline"},l.createElement(Q.z,{middotPadding:"4px",display:"flex",margin:"8px 8px 0 0",flexWrap:"wrap"},p&&"UNLISTED"===y&&l.createElement(V,{visibility:y}),p?l.createElement(q,{firstPublishedAt:c,latestPublishedAt:u}):l.createElement(Y,{readingTime:g,updatedAt:d}),g&&g>0?l.createElement(m.a,{display:"flex",alignItems:"center"},l.createElement(W,{readingTime:g,scale:"M"}),"LOCKED"===y&&l.createElement(P.F,{padding:"1px 0 0 4px",post:a,hideLabelDesktop:!0}),!p&&b&&b>0?l.createElement(l.Fragment,null," ",l.createElement(Z,{wordCount:b})):null):null,k&&"APPROVED"===v&&l.createElement(H,{post:a,capitalized:!0,inline:!0}),p&&h&&l.createElement(X,{hasUnpublishedEdits:h})),a.isPublished&&l.createElement(m.a,{margin:"0 2px"},l.createElement($.b,s)),f&&l.createElement(Ae,{post:a,deletePost:n,postType:i})))}var Le=n(56802),Re=n(50684),_e=function(e){var t=e.fetchMore,n=e.postPreviews,i=e.tab,a=(0,Re.pE)("undeletedPost"),r=(0,Re.pE)("undeletedPostId"),o=(0,Re.pE)("undeletedPostTitle"),s=(0,Re.pE)("tab"),d=(0,S.zF)();if(l.useEffect((function(){a&&d({duration:"NEXTPAGE",toastStyle:"UNDELETE_POST",extraParams:{postTitle:o||"",postId:r||"",tab:s||""}})}),[]),0===n.length)return l.createElement(g,{tab:i});var u=dt(i);return l.createElement(c.i,{fetchMore:t},l.createElement(w,null,(function(e,t){var i=e.mutate,a=t.loading;return n.map((function(e,t){return l.createElement(l.Fragment,{key:e.postId||t},a&&l.createElement(Le.I,null),l.createElement(Ie,{postPreview:e,postType:u,deletePost:i}))}))})))},je=n(26365),Be=n(51622),Ve=n(95765),Me=n(1620),Ue=n(8697),ze=n(26947),qe={draftPosts:0,publishedRootPosts:0,responsePosts:0,deletedPosts:0,unlistedPosts:0},Ye=function(e,t){var n=t&&t>0?" ".concat(t):"";return"".concat(e).concat(n)},Ke=function(e){var t=e.postCounts||qe,n=t.draftPosts,i=t.publishedRootPosts,a=t.responsePosts,r=t.deletedPosts,o=t.unlistedPosts,s=!!(0,E.z)({name:"enable_recently_deleted_stories_tab",placeholder:!1}),d=[{tab:"drafts",text:Ye("Drafts",n),href:(0,h.Luy)()},{tab:"published",text:Ye("Published",i),href:(0,h.iTJ)()},{tab:"responses",text:Ye("Responses",a),href:(0,h.L6o)()}];return o&&o>0&&d.push({tab:"unlisted",text:Ye("Unlisted",o),href:(0,h.xsx)()}),s&&d.push({tab:"trash",text:Ye("Trash",r),href:(0,h.mjn)()}),l.createElement("div",{style:{overflowX:"auto"}},l.createElement(ze.F,{items:d}))},Ge=n(28072),We=n(49287);function Ze(e,t){if(void 0!==t){var n=function(e,t){return Object.keys(e).find((function(n){return e[n]===t}))}(e,t);return n&&e[n]}}var He=n(25703),Xe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingItemPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}},{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat((0,ke.A)(He.c.definitions))},$e=n(59265),Qe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingCollection_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}]}}].concat((0,ke.A)($e.dl.definitions))},Je=n(4424),et=n(9078),tt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"YourStoryRow_postPreview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPreview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingItemPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingPublishedAt_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingReadingTime_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingCollection_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingUnlisted_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingUnpublishedChanges_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingUpdatedAt_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostListingWordCount_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"YourStoryActions_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}}]}}]}}].concat((0,ke.A)(Xe.definitions),(0,ke.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingPublishedAt_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}}]}}]),(0,ke.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingReadingTime_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"readingTime"}}]}}]),(0,ke.A)(Qe.definitions),(0,ke.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingUnlisted_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}}]}}]),(0,ke.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingUnpublishedChanges_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasUnpublishedEdits"}}]}}]),(0,ke.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingUpdatedAt_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}}]}}]),(0,ke.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostListingWordCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"wordCount"}}]}}]),(0,ke.A)(Je.c.definitions),(0,ke.A)(ye.definitions),(0,ke.A)(He.c.definitions),(0,ke.A)(et.S.definitions))},nt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"YourStoriesList_postPreview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPreview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"YourStoryRow_postPreview"}}]}}].concat((0,ke.A)(tt.definitions))},it={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"YourStoriesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostType"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeResponses"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeSuspended"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDeleted"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pagingOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"latestPostsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"includeResponses"},value:{kind:"Variable",name:{kind:"Name",value:"includeResponses"}}},{kind:"Argument",name:{kind:"Name",value:"includeSuspended"},value:{kind:"Variable",name:{kind:"Name",value:"includeSuspended"}}},{kind:"Argument",name:{kind:"Name",value:"includeDeleted"},value:{kind:"Variable",name:{kind:"Name",value:"includeDeleted"}}},{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"pagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postPreviews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"YourStoriesList_postPreview"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}}]}}]}}]}}].concat((0,ke.A)(nt.definitions))},at={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostCountsQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userPostCounts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeResponsesCount"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"YourStoriesNav_postCounts"}}]}}]}}]}}].concat((0,ke.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"YourStoriesNav_postCounts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserPostCounts"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"draftPosts"}},{kind:"Field",name:{kind:"Name",value:"publishedRootPosts"}},{kind:"Field",name:{kind:"Name",value:"responsePosts"}},{kind:"Field",name:{kind:"Name",value:"unlistedPosts"}},{kind:"Field",name:{kind:"Name",value:"deletedPosts"}}]}}]))},rt=n(91967),ot=n(99731),lt=function(){var e=!(0,A.L)(),t=(0,v.Nw)("ShowNewPost",{}),n=(0,v.Nw)("ShowImportPost",{});return l.createElement(m.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center"},l.createElement(rt.s,null,"Your stories"),l.createElement(m.a,{display:e?"flex":"none"},l.createElement(ot.$n,{href:t,buttonStyle:"STRONG","data-testid":"writeStoryButton"},"Write a story"),l.createElement(m.a,{marginRight:"8px"}),l.createElement(ot.$n,{href:n,"data-testid":"importStoryButton"},"Import a story")))},st=(0,l.memo)(lt),dt=function(e){switch(e){case i.Drafts:return pe.xj.POST_TYPE_DRAFT;case i.Public:return pe.xj.POST_TYPE_PUBLISHED;case i.Responses:return pe.xj.POST_TYPE_RESPONSE;case i.Unlisted:return pe.xj.POST_TYPE_UNLISTED;case i.Deleted:return pe.xj.POST_TYPE_DELETED;default:return pe.xj.POST_TYPE_UNKNOWN}},ct=function(e){var t=Ze(i,e.filterBy),n="public"!==t,l="deleted"===t,s={type:dt(t),includeResponses:n,includeSuspended:!0,includeDeleted:l,pagingOptions:{limit:5}},c=(0,r._)(it,{variables:s}),u=(0,a.A)(c,2),m=u[0],p=u[1],f=(0,o.I)(at),k=(0,d.W6)(),h=(0,v.om)();if(!e.filterBy){var g=h("ShowYourStories",{filterBy:i.Drafts});k.replace(g)}return!p.called&&t&&m(),{loading:p.loading||f.loading,yourStoriesQueryResult:p,postCountsQueryResult:f}},ut=function(e){var t,n,a,r,o,d=e.params,c=e.loading,u=e.yourStoriesQueryResult,p=e.postCountsQueryResult,f=u.called,v=u.data,k=(v=void 0===v?{viewer:null}:v).viewer,h=u.error,g=u.fetchMore,y=p.data,b=Ze(i,d.filterBy);if(!b)return l.createElement(Be.u,null);if(!c&&f&&!k)return l.createElement(We.Ne,{source:{susiEntry:"your_stories"},extendSource:!0},l.createElement(Ue.W,{operation:"register"}));if(h)return l.createElement(je.z,{error:h});var E=null,S=null==k||null===(t=k.latestPostsConnection)||void 0===t||null===(n=t.pagingInfo)||void 0===n?void 0:n.next;if(g&&S){var N=S.limit,w=S.to;E=function(){return g({variables:{pagingOptions:{limit:N,to:w}}})}}var P=null!==(a=null==k||null===(r=k.latestPostsConnection)||void 0===r?void 0:r.postPreviews)&&void 0!==a?a:[];return l.createElement(We.Ne,{source:{name:"your_stories_page"}},l.createElement(s.mg,null,l.createElement("title",null,"Your stories"),l.createElement("meta",{name:"robots",content:"noindex"})),l.createElement(Ge.P,{size:"app"},l.createElement(m.a,null,l.createElement(Me.zY,{heading:l.createElement(st,null),navbar:l.createElement(Ke,{postCounts:null==y||null===(o=y.viewer)||void 0===o?void 0:o.userPostCounts}),marginBottom:28}),!f||c?l.createElement(Ve.x,null):l.createElement(_e,{fetchMore:c?null:E,postPreviews:P,tab:b}))))}},94971:(e,t,n)=>{n.d(t,{C:()=>l});var i=n(96540),a=n(52290),r=n(86527),o=n(46879);function l(e){var t=e.entityName,n=void 0===t?"story":t;return i.createElement(a.a,{textAlign:"center",testId:"deleteStoryModalText"},"Deletion is not reversible, and the story will be completely deleted. If you do not want to delete, you can"," ",i.createElement(r.N,{target:"_blank",href:o.Xj4,inline:!0,linkStyle:"OBVIOUS"},"unlist the ",n),".")}},67459:(e,t,n)=>{n.d(t,{J:()=>c,g:()=>d});var i=n(96540),a=n(64122),r=n(56742),o=n(51260),l=n(39160),s=n(60213),d=function(){var e=(0,l.d4)((function(e){return e.config.authDomain})),t=(0,o.RW)(),n=t.type===r.S9.USER,d=(0,o.om)(),c=(0,s.u)(),u=(0,a.W)();return(0,i.useCallback)((function(t){var i,a=t.uniqueSlug||t.id;if(t.isSeries)return"https://".concat(e).concat(d("ShowSeries",{postId:a}));if(null!==(i=t.sequence)&&void 0!==i&&i.slug)return"https://".concat(e).concat(d("ShowSequencePost",{sequenceSlug:t.sequence.slug,postId:a}));if(t.collection&&!n){var r=c({id:t.collection.id,domain:t.collection.domain,slug:t.collection.slug});return"".concat(r,"/").concat(a)}if(t.creator){var o=u(t.creator);return"".concat(o,"/").concat(a)}return"https://".concat(e).concat(d("ShowPost",{postId:a}))}),[t,d,c,u])},c=function(e){return d()(e)}},60213:(e,t,n)=>{n.d(t,{u:()=>o,z:()=>l});var i=n(96540),a=n(39160),r=n(79959),o=function(){var e=(0,a.d4)((function(e){return e.navigation.currentLocation})),t=(0,a.d4)((function(e){return e.config.authDomain})),n=(0,r.fo)();return(0,i.useCallback)((function(i){var a=i.id,r=i.domain,o=function(e){var t=e.id,n=e.slug;return n?"/".concat(n):"/c/".concat(t)}({id:a,domain:r,slug:i.slug});if(n)return"https://".concat(t).concat(o);try{var l=new URL(e).port;if(r)return"https://".concat(r).concat(l?":".concat(l):"")}catch(e){}return"https://".concat(t).concat(o)}),[n])},l=function(e){return o()(e)}},44929:(e,t,n)=>{n.d(t,{D:()=>f});var i=n(58168),a=n(80045),r=n(96540),o=n(14782),l=n(86527),s=n(99731),d=n(51260),c=n(65550),u=["size","href","children","handleClick","buttonStyle","type","isVisible"],m=["href","children","handleClick"],p=["handleClick","isVisible","children","href"],f=function(e){var t=e.size,n=e.href,o=e.children,l=e.handleClick,s=e.buttonStyle,m=e.type,p=e.isVisible,f=void 0===p||p,g=(0,a.A)(e,u),y=!(0,c.L)(),b=(0,d.IF)(),E=(0,d.au)(),S=(0,r.useCallback)((function(e){null==l||l(e)}),[l]);if(!f)return null;var N=b(new URL(n).pathname),w=null==N?void 0:N.params.postId,P=n;switch(y||(P=w?E("ShowMobileWebEditorRedirectEditStory",{postId:w}):E("ShowMobileWebEditorRedirectNewStory",{})),m){case"link":return r.createElement(v,(0,i.A)({href:P,handleClick:S},g),o);case"button":return r.createElement(h,{buttonStyle:s,size:t,href:P,handleClick:S},o);case"popover":return r.createElement(k,(0,i.A)({isVisible:f,href:P,handleClick:S},g),o)}},v=function(e){var t=e.href,n=e.children,o=e.handleClick,s=(0,a.A)(e,m);return r.createElement(l.N,(0,i.A)({href:t,onClick:o},s),n)},k=function(e){var t=e.handleClick,n=e.isVisible,l=void 0===n||n,s=e.children,d=e.href,c=(0,a.A)(e,p);return l?r.createElement(o.q3,null,r.createElement(v,(0,i.A)({href:d,handleClick:t},c),s)):null},h=function(e){var t=e.href,n=e.size,i=e.buttonStyle,a=e.children,o=e.handleClick;return r.createElement(s.$n,{buttonStyle:i,size:n,href:t,onClick:o},a)}},18677:(e,t,n)=>{n.d(t,{f:()=>a});var i=n(34284);function a(e){var t=e.timestamp;return(0,i.A)(t,Date.now(),{addSuffix:!0})}},83983:(e,t,n)=>{n.d(t,{G:()=>i,P:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendPostAsEmailsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendPostAsEmails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},60487:(e,t,n)=>{n.d(t,{z:()=>w});var i,a=n(64467),r=n(80296),o=n(95420),l=n(96540),s=n(52764),d=n(14782),c=n(86527),u=n(52290),m=n(46445),p=n(36557),f=n(44402),v=n(91830);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},k.apply(null,arguments)}const h=function(e){return l.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,viewBox:"0 0 20 16"},e),i||(i=l.createElement("path",{d:"M0 .353v15.294h20V.353zm6.948 9.374L10 12.226l3.052-2.499 4.877 4.73H2.071zm-5.75 3.913V5.02l4.82 3.946zm12.784-4.675 4.82-3.946v8.621zm4.82-7.421v1.933L10 10.682 1.198 3.477V1.544z"})))};var g=n(60603),y=n(83983);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}}var N={height:"16px",width:"16px",marginLeft:"4px"};function w(e){var t=e.post,n=e.onClick,i=e.menuStyle,a=(0,f.l)(),k=(0,g.e)(!1),b=(0,r.A)(k,3),w=b[0],P=b[1],O=b[2],D=(0,v.zF)(),T=function(){O(),n()},F=(0,o.n)(y.P,{variables:{postId:(null==t?void 0:t.id)||""},onCompleted:function(e){var t=e.sendPostAsEmails;D(t?{message:"Your story has been emailed to subscribers.",toastStyle:"MESSAGE",duration:2e3}:{message:"We couldn't process your request. Try again, or contact our support team.",toastStyle:"ERROR",duration:2e3})},update:function(e,n){var i={id:"Post:".concat(null==t?void 0:t.id),fragment:y.G,fragmentName:"NewsletterV3EmailToSubscribersMenuItem_post"},a=e.readFragment(i);n.data&&a&&e.writeFragment(E(E({},i),{},{data:E(E({},a),{},{isAuthorNewsletter:n.data.sendPostAsEmails})}))}}),x=(0,r.A)(F,1)[0];return l.createElement(s.c,null,(function(e){var r,o,s;return e&&e.id===(null==t||null===(r=t.creator)||void 0===r?void 0:r.id)&&(null==t||!t.isNewsletter)&&((null==t||null===(o=t.creator)||void 0===o||null===(s=o.newsletterV3)||void 0===s?void 0:s.subscribersCount)||0)>0?l.createElement(l.Fragment,null,l.createElement(d.q3,{paddingTopBottom:"8px"},l.createElement(c.N,{"data-testid":"emailToSubscribersMenuItem",onClick:function(){null!=t&&t.isAuthorNewsletter?(D({message:"You’ve already sent this story to subscribers.",toastStyle:"ERROR",duration:2e3}),n()):P()}},"TEXT"===i?l.createElement(u.a,{display:"inline-block"},l.createElement(p.kZ,{scale:"M"},"Email to subscribers")):l.createElement(u.a,{display:"inline-block"},l.createElement(h,{className:a([S,N])}),l.createElement(u.a,{display:"inline-block",marginLeft:"20px"},l.createElement(p.kZ,{scale:"S"},"Email to subscribers"))))),l.createElement(m.T,{onConfirm:function(){x(),T()},isVisible:w,hide:T,titleText:"Email to subscribers",confirmText:"Send",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!0,withCloseButton:!0,isDestructiveAction:!1},"A link to this story will be emailed to all your subscribers.")):l.createElement(l.Fragment,null)}))}},9078:(e,t,n)=>{n.d(t,{S:()=>d});var i=n(45458),a=n(25703),r=n(62742),o=n(3714),l=n(50112),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLink_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useCopyFriendLink_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat((0,i.A)(r.CV.definitions),(0,i.A)(o.Y.definitions),(0,i.A)(l.f.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSharePopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLink_post"}}]}}].concat((0,i.A)(a.c.definitions),(0,i.A)(s.definitions))}},46696:(e,t,n)=>{n.d(t,{b:()=>U});var i,a=n(96540),r=n(67459),o=n(5419),l=n(19724),s=n(79647),d=n(80296),c=n(27721),u=n(1722),m=n(43634),p=n(30572),f=n(52290),v=n(86527),k=n(36557),h=n(44402),g=n(71836),y=n(51260),b=n(42976);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E.apply(null,arguments)}const S=function(e){return a.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m6 9 6 6 6-6"})))};var N=n(27507),w=n(60603),P=n(46879),O=n(82284),D=n(10467),T=n(95420),F=n(91830),x=n(39160),C=n(31372),A=n(79959),I=n(3714);function L(){L=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),l=new C(i||[]);return a(o,"_invoke",{value:D(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var m="suspendedStart",p="suspendedYield",f="executing",v="completed",k={};function h(){}function g(){}function y(){}var b={};d(b,o,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(A([])));S&&S!==n&&i.call(S,o)&&(b=S);var N=y.prototype=h.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,r,o,l){var s=u(e[a],e,r);if("throw"!==s.type){var d=s.arg,c=d.value;return c&&"object"==(0,O.A)(c)&&i.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){d.value=e,o(d)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,a){n(e,i,t,a)}))}return r=r?r.then(a,a):a()}})}function D(t,n,i){var a=m;return function(r,o){if(a===f)throw new Error("Generator is already running");if(a===v){if("throw"===r)throw o;return{value:e,done:!0}}for(i.method=r,i.arg=o;;){var l=i.delegate;if(l){var s=T(l,i);if(s){if(s===k)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===m)throw a=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=f;var d=u(t,n,i);if("normal"===d.type){if(a=i.done?v:p,d.arg===k)continue;return{value:d.arg,done:i.done}}"throw"===d.type&&(a=v,i.method="throw",i.arg=d.arg)}}}function T(t,n){var i=n.method,a=t.iterator[i];if(a===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),k;var r=u(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,k;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,k):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,k)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError((0,O.A)(t)+" is not iterable")}return g.prototype=y,a(N,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=d(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,s,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},w(P.prototype),d(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new P(c(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(N),d(N,s,"Generator"),d(N,o,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(i,a){return l.type="throw",l.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),d=i.call(o,"finallyLoc");if(s&&d){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,k):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),k},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),k}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:A(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),k}},t}var R=function(e){return{height:"16px",width:"16px",transform:e?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease-in-out"}},_={display:"flex",alignItems:"center",width:"100%",":disabled":{cursor:"progress"},":disabled >:not(svg)":{opacity:.3}},j=function(e){return{maxHeight:e?"184px":"0px",overflow:"hidden",transition:"max-height 0.2s ease-in-out"}},B=function(e){var t=e.children,n=e.paddingBottom;return a.createElement(f.a,{paddingTop:"12px",paddingLeft:"36px",paddingBottom:n},a.createElement(k.kZ,{scale:"S",color:"LIGHTER"},t))},V=function(e){var t,n=e.post,i=e.hidePopover,o=(0,h.l)(),l=(0,y.au)(),s=(0,c.R)().value,k=(0,u.h)(n).viewerEdge,E=null==k?void 0:k.shareKey,O=function(e){var t=e.post,n=e.legacyShareKey,i=e.onComplete,o=(0,x.d4)((function(e){return e.client.isFirefox})),l=(0,a.useState)(!1),s=(0,d.A)(l,2),c=s[0],u=s[1],m=(0,C.L)().timer,p=(0,F.zF)(),f=(0,r.J)(t),v=(0,T.n)(I.a,{variables:{postId:t.id}}),k=(0,d.A)(v,1)[0],h=(0,a.useCallback)((function(){p({message:"Friend Link copied",duration:2e3})}),[p]),g=(0,a.useCallback)((function(){if(n){var e=(0,A.ST)(f,{sk:n});navigator.clipboard.writeText(e),h(),i()}}),[n,h,f,i]),y=(0,a.useCallback)((0,D.A)(L().mark((function e(){var t,n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(t=e.sent,"PostShareKey"!==(null==(n=t.data)?void 0:n.createPostShareKey.__typename)){e.next=8;break}return e.abrupt("return",(0,A.ST)(f,{sk:n.createPostShareKey.key}));case 8:throw new Error(null==n?void 0:n.createPostShareKey.__typename);case 9:case"end":return e.stop()}}),e)}))),[f,k]),b=(0,a.useCallback)((0,D.A)(L().mark((function e(){var t,n,a;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),e.prev=1,t=Date.now(),!o){e.next=10;break}return e.next=6,y();case 6:n=e.sent,navigator.clipboard.writeText(n),e.next=12;break;case 10:return e.next=12,navigator.clipboard.write([new ClipboardItem({"text/plain":y().then((function(e){return new Blob([e],{type:"text/plain"})}))})]);case 12:if(!((a=Date.now()-t)<1e3)){e.next=16;break}return e.next=16,new Promise((function(e){return m(e,1e3-a)}));case 16:h(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),p({message:"There was an error creating this Friend Link. Please try again later.",duration:3e3});case 22:return e.prev=22,u(!1),i(),e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[1,19,22,26]])}))),[y,h,i,o]);return{copy:(0,a.useCallback)((function(){c||(n?g():b())}),[c,n,g,b]),isCopying:c}}({post:n,legacyShareKey:E,onComplete:i}),V=O.copy,M=O.isCopying,U=M?"Copying Friend Link...":"Copy Friend Link",z=l("ShowManageMembershipPage",{}),q=!!E||(null==s||null===(t=s.membership)||void 0===t?void 0:t.tier)===b.T3.FRIEND,Y=(0,w.e)(q),K=(0,d.A)(Y,4),G=K[0],W=K[3];return a.createElement(a.Fragment,null,a.createElement(v.N,{rules:_,onClick:q?V:W,disabled:M},a.createElement(N.A,null),a.createElement(f.a,{marginLeft:"12px",flexGrow:"1",textAlign:"left"},q?U:"Friend Link"),!q&&a.createElement(S,{className:o(R(G))})),a.createElement("div",{className:o(j(q||G))},a.createElement(B,null,E?"Friend Links shared from an author or publication editor are not eligible to earn in the Partner Program.":"Share free access to this member-only story with a friend.","  ",a.createElement(v.N,{linkStyle:"OBVIOUS",inline:!0,href:(0,P.ZZI)()},"Learn more")),!q&&a.createElement(a.Fragment,null,a.createElement(B,null,"Available to members with a Friend membership and story authors."),a.createElement(B,{paddingBottom:"12px"},s?a.createElement(g.C,{source:"friend_link",dimension:"post_friend_link",sourceProviderData:{postId:n.id},eventData:{postId:n.id},tag:"span"},a.createElement(p.a,{post:n,redirectUrl:z,linkStyle:"OBVIOUS",inline:!0},"Upgrade membership")):a.createElement(m.r,{redirectTo:z,operation:"register",susiEntry:"post_friend_link",post:n,linkStyle:"OBVIOUS",inline:!0},"Become a member")))))},M=n(14782),U=function(e){var t=e.post,n=e.source,i=e.isResponsive,d=e.testId,c=t.title,u=t.id,m=t.isPublished,p=(0,r.g)()(t);return a.createElement(l.d,{ariaId:"postFooterSocialMenu",source:{name:n},url:p,title:c,ariaLabel:"Share Post",postId:u,isResponsive:i,testId:d,width:"240px"},(function(e){return a.createElement(a.Fragment,null,a.createElement(M.q3,{paddingTopBottom:"6px"},a.createElement(o.X,{url:p,onClick:e,reportData:{postId:t.id},source:n,copyStyle:"INLINE"})),t.isLocked&&a.createElement(a.Fragment,null,a.createElement(M.eS,{paddingTopBottom:"6px"}),a.createElement(M.q3,{paddingTopBottom:"6px"},a.createElement(V,{post:t,hidePopover:e}))),m&&a.createElement(a.Fragment,null,a.createElement(M.eS,{paddingTopBottom:"6px"}),a.createElement(M.q3,{paddingTopBottom:"6px"},a.createElement(s._,{socialPlatform:"TWITTER",buttonStyle:"LINK_INLINE_SHORT_LABEL",postId:t.id})),a.createElement(M.q3,{paddingTopBottom:"6px"},a.createElement(s._,{socialPlatform:"FACEBOOK",buttonStyle:"LINK_INLINE_SHORT_LABEL",postId:t.id})),a.createElement(M.q3,{paddingTopBottom:"6px"},a.createElement(s._,{socialPlatform:"LINKEDIN",buttonStyle:"LINK_INLINE_SHORT_LABEL",postId:t.id}))))}))}},32038:(e,t,n)=>{n.d(t,{T:()=>a,e:()=>i});var i="This story is also a response to another story. Are you sure you want to delete this story?",a="This story is also a response to another story. Any edits are applied to both."},43389:(e,t,n)=>{n.d(t,{o:()=>r});var i=n(96540),a=n(42976),r=i.createContext({setIsSavingResponse:function(){return null},editingResponsesAtIndices:[],setEditingResponsesAtIndices:function(){return null},setInResponseToQuote:function(){return null},sidebarRef:null,responseDistribution:a.IZ.NOT_DISTRIBUTED,setResponseDistribution:function(){},responseSortType:a.CD.TOP,rootEntityId:"",isResponsesSidebarVisible:!1,showCreateReplyEditor:!1})},92162:(e,t,n)=>{n.d(t,{F:()=>o,G:()=>l});var i=n(96540),a=n(83858),r=n(42976),o=function(){return i.createElement("div",null,"Deleted responses are gone forever.",i.createElement("br",null),"Are you sure?")},l=function(e){var t=e.isDialogOpen,n=e.cancelDialogAction,l=e.confirmDialogAction,s=e.responseDistribution,d=e.hide,c=s===r.IZ.DISTRIBUTED,u=c?"Delete response and story":"Delete",m=c?"This response is also a story on your profile. Are you sure you want to delete this response?":i.createElement(o,null);return i.createElement(a.d,{isDialogOpen:t,dialogHeading:u,dialogDescription:m,cancelDialogAction:n,confirmDialogAction:l,confirmDialogButtonText:"Delete Response",confirmButtonStyle:"ERROR",hide:d})}},83858:(e,t,n)=>{n.d(t,{d:()=>u});var i=n(96540),a=n(43389),r=n(3005),o=n(52290),l=n(86527),s=n(99731),d=n(56942),c=n(36557),u=function(e){var t=e.isDialogOpen,n=e.dialogHeading,u=e.dialogDescription,m=e.cancelDialogAction,p=e.confirmDialogAction,f=e.confirmDialogButtonText,v=e.confirmButtonStyle,k=void 0===v?"STRONG":v,h=e.hide,g=i.useContext(a.o).sidebarRef,y=function(e){var t;null!=g&&null!==(t=g.current)&&void 0!==t&&t.style&&(g.current.style.overflowY=e?"hidden":"")};return i.useEffect((function(){return y(t),function(){y(!1)}}),[t]),i.createElement(r.l,{isVisible:t,hide:h,withCloseButton:!1,noPortal:!0,padding:50},i.createElement(o.a,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},i.createElement(d.DZ,{scale:"M"},n),i.createElement(o.a,{display:"flex",width:"100%",paddingRight:"5px",marginTop:"10px",marginBottom:"40px",textAlign:"center"},i.createElement(c.kZ,{scale:"M",color:"DARKER"},u)),i.createElement(o.a,{display:"flex",marginBottom:"20px"},i.createElement(l.N,{onClick:m},i.createElement(c.kZ,{scale:"M",color:"DARKER"},"Cancel")),i.createElement(o.a,{marginLeft:"25px"},i.createElement(s.$n,{buttonStyle:k,onClick:p,"data-test-id":"close-discussion-button"},f)))))}},1722:(e,t,n)=>{n.d(t,{h:()=>r});var i=n(39181),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"readingList"}},{kind:"Field",name:{kind:"Name",value:"shareKey"}},{kind:"Field",name:{kind:"Name",value:"creatorPartnerProgramEnrollmentStatus"}}]}}]}}]}}]}}]},r=function(e){var t,n=(0,i.I)(a,{variables:{postId:(null==e?void 0:e.id)||""},ssr:!1,skip:!(null!=e&&e.id)}),r=n.loading,o=n.error,l=n.data;return r?{loading:r}:o?{error:o}:{viewerEdge:null==l||null===(t=l.post)||void 0===t?void 0:t.viewerEdge}}},52764:(e,t,n)=>{n.d(t,{c:()=>a});var i=n(27721),a=function(e){var t=e.children,n=e.nonBlocking,a=(0,i.R)(),r=a.error,o=a.loading,l=a.value;return n&&(r||o)?t(null):o?null:t(l)}},5419:(e,t,n)=>{n.d(t,{P:()=>k,X:()=>v});var i=n(64467),a=n(96540),r=n(52290),o=n(86527),l=n(72130),s=n(91830),d=n(48642),c=n(14782);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return{display:"inline-flex",alignItems:"center",":hover path":{fill:e.colorTokens.foreground.neutral.primary.base}}},f=function(e){var t=e.copyStyle,n=e.children;switch(t){case"INLINE":return a.createElement(r.a,{display:"flex",alignItems:"center"},a.createElement(d.A,null),a.createElement(r.a,{display:"inline",marginLeft:"12px"},"Copy link"));case"TEXT":return a.createElement(r.a,{display:"inline-block"},n);default:return null}},v=function(e){var t=e.url,n=e.onClick,i=e.reportData,r=void 0===i?{}:i,d=e.source,c=e.copyStyle,u=e.children,v=(0,s.zF)(),k=(0,l.$L)();return a.createElement(o.N,{onClick:function(){navigator.clipboard.writeText(t),v({message:"Link copied",toastStyle:"MESSAGE",duration:2e3}),k.event("copyStoryLink.clicked",m(m({},r),{},{source:d})),n&&n()},rules:"INLINE"===c?p:void 0},a.createElement(f,{copyStyle:c},u))},k=function(e){var t=e.mediumUrl,n=e.onClick;return a.createElement(c.q3,null,a.createElement(v,{url:t,onClick:n,copyStyle:"TEXT"},"Copy link"))}},1567:(e,t,n)=>{n.d(t,{w:()=>D});var i,a=n(58168),r=n(96540),o=n(44402);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(null,arguments)}const s=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=r.createElement("path",{fill:"currentColor",d:"M22 12.061C22 6.505 17.523 2 12 2S2 6.505 2 12.061c0 5.022 3.657 9.184 8.438 9.939v-7.03h-2.54V12.06h2.54V9.845c0-2.522 1.492-3.915 3.777-3.915 1.094 0 2.238.197 2.238.197v2.476h-1.26c-1.243 0-1.63.775-1.63 1.57v1.888h2.773l-.443 2.908h-2.33V22c4.78-.755 8.437-4.917 8.437-9.939"})))};var d,c,u=n(9112);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m.apply(null,arguments)}const p=function(e){return r.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:21,height:21,fill:"none",viewBox:"0 0 21 21"},e),d||(d=r.createElement("path",{d:"M3 4.075C3 3.48 3.496 3 4.108 3h12.784C17.504 3 18 3.481 18 4.075v12.85C18 17.52 17.504 18 16.892 18H4.108C3.496 18 3 17.519 3 16.925z"})),c||(c=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7.547 15.557V8.783H5.28v6.774zM6.414 7.859c.79 0 1.282-.52 1.282-1.17-.015-.665-.492-1.17-1.267-1.17s-1.282.505-1.282 1.17c0 .65.492 1.17 1.252 1.17zM8.8 15.557h2.266v-3.783c0-.202.015-.404.075-.55.164-.404.536-.823 1.162-.823.82 0 1.148.622 1.148 1.532v3.624h2.265v-3.884c0-2.08-1.117-3.049-2.608-3.049-1.222 0-1.759.68-2.057 1.142h.015v-.983H8.801c.03.636 0 6.774 0 6.774",clipRule:"evenodd"})))};var f;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v.apply(null,arguments)}const k=function(e){return r.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),f||(f=r.createElement("path",{fill:"currentColor",d:"M21 4.324v15.352A1.324 1.324 0 0 1 19.676 21H4.324A1.324 1.324 0 0 1 3 19.676V4.324A1.324 1.324 0 0 1 4.324 3h15.352A1.324 1.324 0 0 1 21 4.324M8.295 9.886H5.648v8.478h2.636V9.886zm.221-2.914a1.52 1.52 0 0 0-1.51-1.533H6.96a1.533 1.533 0 0 0 0 3.066 1.52 1.52 0 0 0 1.556-1.487zm9.825 6.236c0-2.555-1.626-3.542-3.229-3.542a3.02 3.02 0 0 0-2.67 1.37h-.082V9.875H9.875v8.477h2.648v-4.494a1.754 1.754 0 0 1 1.579-1.893h.104c.837 0 1.464.523 1.464 1.858v4.54h2.647l.024-5.144z"})))};var h=n(83615),g={marginRight:"8px"},y={fill:"#292929"},b=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base,"> path":{fill:e.colorTokens.foreground.neutral.secondary.base}}},E=function(e){var t=e.buttonStyle,n=e.socialPlatform,i=(0,o.l)();switch(t){case"LINK_INLINE_SHORT_LABEL":switch(n){case"FACEBOOK":return r.createElement(s,{className:i(b)});case"TWITTER":return r.createElement(h.A,{className:i(b)});case"LINKEDIN":return r.createElement(k,{className:i(b)});default:return null}case"BUTTON_BRANDED":switch(n){case"FACEBOOK":return r.createElement(u.A,null);case"TWITTER":return r.createElement(h.A,null);case"LINKEDIN":return r.createElement(p,{className:i([y,g])});default:return null}default:return null}},S=n(86527),N=n(52290),w=n(99731),P=function(e){return{display:"inline-flex",alignItems:"center",":hover path":{fill:e.colorTokens.foreground.neutral.primary.base}}},O={FACEBOOK:"Facebook",TWITTER:"X",LINKEDIN:"LinkedIn"};function D(e){var t=e.buttonStyle,n=e.socialPlatform,i=e.baseOnClick,o=e.href,l=e.testId,s=(0,r.useMemo)((function(){return{"aria-label":"Share on ".concat(n.toLowerCase()),onClick:function(){i();var e=Math.max((window.outerHeight||200)/2-560,100),t=(window.outerWidth||200)/2-250;window.open(o,"Social Share Window","resizable,scrollbars,status,top=".concat(e,",left=").concat(t,",height=").concat(650,",width=").concat(650))}}}),[i,o,n]),d=O[n];if(!d)return null;switch(t){case"LINK_INLINE_SHORT_LABEL":return r.createElement(S.N,(0,a.A)({},s,{rules:P,"data-testid":l}),r.createElement(E,{buttonStyle:t,socialPlatform:n}),r.createElement(N.a,{display:"inline",marginLeft:"12px"},"Share on ",d));case"BUTTON_BRANDED":return r.createElement(w.$n,(0,a.A)({},s,{buttonStyle:"SOCIAL",size:"LARGE",width:w.Gk,padding:w.Rc,"data-testid":l}),r.createElement(N.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.createElement(E,{buttonStyle:t,socialPlatform:n}),"Share on ",d,r.createElement(N.a,{height:"24px",width:"24px"})));default:return null}}},19724:(e,t,n)=>{n.d(t,{d:()=>k});var i,a=n(80296),r=n(96540),o=n(14782),l=n(24960),s=n(20036),d=n(72130),c=n(49287),u=n(20239);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m.apply(null,arguments)}const p=function(e){return r.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1",clipRule:"evenodd"})))};var f=n(60603),v=function(e){var t=e.children,n=e.source;return n?r.createElement(c.Ne,{source:n},t):r.createElement(r.Fragment,null,t)},k=function(e){var t,n=e.url,i=e.title,m=e.source,k=e.ariaId,h=e.children,g=e.ariaLabel,y=e.tooltipText,b=void 0===y?"":y,E=e.postId,S=e.listId,N=e.isResponsive,w=e.testId,P=e.width,O=(0,u.D)(),D=(0,f.e)(!1),T=(0,a.A)(D,3),F=T[0],x=T[1],C=T[2],A=(null==O||null===(t=O.breakpoints)||void 0===t?void 0:t.md)||728,I=(0,d.$L)(),L=(0,c.wv)(m);return r.createElement(v,{source:m},r.createElement(l.A,{ariaId:k,isVisible:F,hide:C,popoverRenderFn:function(){return r.createElement(o.Ni,{width:P},h(C))}},r.createElement(s.u,{ariaControls:k,icon:r.createElement(p,null),tooltipText:b||"Share",ariaExpanded:F?"true":"false",ariaLabel:g,text:N?"Share":void 0,onClick:function(){var e,t=null===(e=window)||void 0===e?void 0:e.innerWidth;if(I.event("shareLinkPopover.clicked",{postId:E,listId:S,source:L}),n&&t&&t<A){var a={url:n,text:i||"",title:i||""};if(navigator.canShare&&navigator.canShare(a))return void navigator.share(a)}x()},testId:w})))}},79647:(e,t,n)=>{n.d(t,{_:()=>s});var i=n(96540),a=n(1567),r=n(72130),o=n(49287),l=n(51260),s=function(e){var t,n=e.postId,s=e.socialPlatform,d=e.buttonStyle,c=e.testId,u=(0,r.$L)(),m=(0,o.W9)(),p=(0,l.au)(),f=i.useCallback((function(){m&&u.event("post.shareOpen",{postId:n,source:m,dest:s.toLowerCase(),dialogType:"native"})}),[m,u,n,s]);if("FACEBOOK"===s)t=p("RedirectShowPostShare",{postId:n,channel:"facebook"});else if("TWITTER"===s)t=p("RedirectShowPostShare",{postId:n,channel:"twitter"});else{if("LINKEDIN"!==s)return null;t=p("RedirectShowPostShare",{postId:n,channel:"linkedIn"})}return i.createElement(a.w,{baseOnClick:f,href:t,socialPlatform:s,buttonStyle:d,testId:c})}},3714:(e,t,n)=>{n.d(t,{Y:()=>r,a:()=>o});var i=n(45458),a=n(25703),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useCopyFriendLink_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat((0,i.A)(a.c.definitions))},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePostShareKeyMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPostShareKey"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostShareKey"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}}]}}]}}]}}]}},8697:(e,t,n)=>{n.d(t,{W:()=>c});var i=n(96540),a=n(9942),r=n(85836),o=n(49287),l=n(39160),s=n(79959),d=n(46879),c=function(e){var t=e.opt_isDraft,n=e.opt_params,c=e.operation,u=e.opt_hash,m=e.opt_location,p=(0,l.d4)((function(e){return e.config.authDomain})),f=(0,l.d4)((function(e){return e.navigation.currentLocation})),v=(0,o.jI)(),k=(0,o.Zj)(),h=(0,s.ST)((0,d.cR0)(p),{operation:c||"login",redirect:(0,r.$q)(m||f,v,k,null,null,n,u),isDraft:t?"1":"0"});return i.createElement(a.r,{to:h,temporary:!0})}},30142:(e,t,n)=>{n.d(t,{i:()=>c});var i=n(80296),a=n(96540),r=a.createContext({isFetching:!1}),o=n(52290),l=n(99731),s=n(66305),d=!1;n.g.window&&function e(){window.requestAnimationFrame((function(){d=!0,setImmediate((function(){d=!1,e()}))}))}();var c=function(e){var t=e.children,n=e.fetchMore,c=e.scrollableEl,u=e.disabled,m=e.fetchMoreText,p=void 0===m?"Load more":m,f=e.fetchingPlaceholder,v=function(e){var t=e.fetchMore,n=e.scrollableEl,r=e.disabled,o=(0,a.useState)(!1),l=(0,i.A)(o,2),c=l[0],u=l[1],m=(0,a.useRef)(null),p=(0,a.useRef)(!1),f=(0,a.useRef)(),v=(0,a.useMemo)((function(){return(0,s.$U)(n||void 0)}),[n]),k=(0,a.useRef)(c),h=(0,a.useRef)(t);(0,a.useEffect)((function(){k.current=c,h.current=t}),[c,t]);var g=(0,a.useCallback)((function(){return h.current?(u(!0),h.current().then((function(){return u(!1)}))):Promise.resolve()}),[]),y=(0,a.useCallback)((function(){p.current||(p.current=!0,f.current=function(e){if(!d)return window.requestAnimationFrame((function(){setImmediate((function(){return e()}))}));setImmediate((function(){return e()}))}((function(){if(p.current=!1,m.current&&!k.current&&h.current&&v instanceof s.ZJ){var e=v.ref,t=m.current.getBoundingClientRect(),n=e instanceof Window?e.innerHeight:e.clientHeight;t.top-n<3*n&&g().then((function(){return y()}))}})))}),[v]);return(0,a.useEffect)((function(){if(!r)return v.on("scroll_throttled",y),v.on("resize_throttled",y),function(){v.off("scroll_throttled",y),v.off("resize_throttled",y)}}),[v,y,r]),(0,a.useEffect)((function(){return y(),function(){f.current&&cancelAnimationFrame(f.current)}}),[]),{isFetching:c,bottomEdgeRef:m,handleFetchMore:g}}({fetchMore:n,scrollableEl:c,disabled:u}),k=v.isFetching,h=v.bottomEdgeRef,g=v.handleFetchMore;return a.createElement(r.Provider,{value:{isFetching:k}},a.createElement("div",null,t,k&&f,u&&n&&!k&&a.createElement(o.a,{display:"flex",justifyContent:"center",marginBottom:"48px"},a.createElement(l.$n,{onClick:g},p)),a.createElement("div",{ref:h})))}},50112:(e,t,n)=>{n.d(t,{f:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},30572:(e,t,n)=>{n.d(t,{a:()=>p});var i=n(64467),a=n(96540),r=n(69733),o=n(99731),l=n(86527),s=n(72130),d=n(49287),c=n(46879);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,r.Ng)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.buttonSize,i=e.buttonStyle,r=e.children,u=e.eventData,p=void 0===u?{}:u,f=e.inline,v=void 0!==f&&f,k=e.isButton,h=void 0!==k&&k,g=e.linkStyle,y=void 0===g?"SUBTLE":g,b=e.post,E=e.redirectUrl,S=e.width,N=e.id,w=e.onClick,P=E||(0,c.Icz)(t),O=(0,s.$L)(),D=(0,d.Fo)(),T=function(){var e,t;O.event("upsell.clicked",m(m({},p),{},{dimension:null==D?void 0:D.dimension,locationId:null==D?void 0:D.dimension,postId:null==b?void 0:b.id,authorId:null==b||null===(e=b.creator)||void 0===e?void 0:e.id,sequenceId:(null==b||null===(t=b.sequence)||void 0===t?void 0:t.sequenceId)||""}))};return h?a.createElement(o.$n,{buttonStyle:i,href:P,onClick:function(){null==w||w(),T()},size:n,width:S,id:N},r):a.createElement(l.N,{onClick:function(){null==w||w(),T()},href:P,linkStyle:y,inline:v,id:N},r)}))},28993:(e,t,n)=>{n.d(t,{P:()=>d});var i=n(58168),a=n(64467),r=n(96540),o=n(44402);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var s=function(e){return function(t){var n="function"==typeof e?e(t):e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({color:"inherit",fill:t.colorTokens.foreground.neutral.secondary.base,fontSize:"inherit",border:"inherit",fontFamily:"inherit",letterSpacing:"inherit",fontWeight:"inherit",padding:0,margin:0,cursor:"pointer",":disabled":{cursor:"not-allowed",opacity:.3}},n)}},d=r.forwardRef((function(e,t){var n=e.ariaControls,a=e.ariaExpanded,l=e.ariaLabel,d=void 0===l?"":l,c=e.children,u=e.onClick,m=e.onTouchStart,p=e.onTouchEnd,f=e.rules,v=void 0===f?{}:f,k=e.disabled,h=e.testId,g=(0,o.l)(),y={onClick:u,onTouchEnd:p,onTouchStart:m};return n&&(y["aria-controls"]=n),a&&(y["aria-expanded"]=a),d&&(y["aria-label"]=d),h&&(y["data-testid"]=h),r.createElement("button",(0,i.A)({},y,{className:g(s(v)),ref:t,disabled:k}),c)}))},20036:(e,t,n)=>{n.d(t,{u:()=>h});var i=n(58168),a=n(80045),r=n(64467),o=n(96540),l=n(28993),s=n(85050),d=n(36557),c=n(18721),u=n(46963),m=n(27049),p=n(5600),f=["icon","text","tooltipText","rules"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var k=function(e){return{border:"1px solid ".concat(e.colorTokens.border.neutral.primary.base),borderRadius:"99em",padding:"0px 16px 0px 12px",height:"38px",display:"flex",alignItems:"center",":hover":{borderColor:e.colorTokens.border.neutral.tertiary.base},"& svg":{marginRight:"8px"}}},h=function(e){var t,n,h=e.icon,g=e.text,y=e.tooltipText,b=void 0===y?"":y,E=e.rules,S=(0,a.A)(e,f),N=(0,u.U)(),w=N===m.i.xs||N===m.i.sm;return o.createElement(p.G,{tooltipText:b,targetDistance:10,isVisible:!g||!!g&&!w},o.createElement(l.P,(0,i.A)({rules:(t=!!g,n=E,function(e){var i;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}((i={padding:"8px 2px","& svg":{color:e.colorTokens.foreground.neutral.secondary.base},":hover svg":{color:e.colorTokens.foreground.neutral.primary.hover},":hover p":{color:e.colorTokens.foreground.neutral.primary.hover},":focus svg":{color:e.colorTokens.foreground.neutral.primary.hover}},(0,r.A)(i,c.xs(e),t?k(e):void 0),(0,r.A)(i,c.sm(e),t?k(e):void 0),i),n)})},S),h,g&&o.createElement(s.V,{xs:!0,sm:!0},o.createElement(d.kZ,{scale:"M"},g))))}},46445:(e,t,n)=>{n.d(t,{T:()=>u});var i=n(58168),a=n(80045),r=n(96540),o=n(52290),l=n(56942),s=n(36557),d=n(64314),c=["children","titleText"],u=function(e){var t,n=e.children,u=e.titleText,m=(0,a.A)(e,c),p="confirmDialogTitle",f=null!==(t=m.testId)&&void 0!==t?t:void 0;return r.createElement(d.m,(0,i.A)({},m,{ariaLabelledBy:p}),r.createElement(l.DZ,{ariaLabelledById:p,scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},testId:f},u),r.createElement(o.a,{paddingTop:"6px",paddingBottom:"36px"},r.createElement(s.kZ,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},n)))}},56802:(e,t,n)=>{n.d(t,{I:()=>p});var i=n(64467),a=n(96540),r=n(37661),o=n(49597),l=n(44402),s=n(78693);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){return{"0%":{transform:"translateX(-100%)"},"40%":{transform:"translateX(0%)"},"60%":{transform:"translateX(0%)"},"100%":{transform:"translateX(100%)"}}},m=function(e){return function(){return c(c({position:"fixed",top:"0",height:"2px",overflow:"hidden"},{left:"0",right:"0"}),e)}},p=function(e){var t=e.horizontalOverride,n=(0,l.l)();return a.createElement(r.w,{keyframes:{translateRight:u}},(function(e){var i,r=e.translateRight;return a.createElement(o.X,{rules:m(t),zIndex:s.Ay.loading},a.createElement("div",{className:n((i=r,function(e){return{position:"absolute",top:"0",height:"2px",backgroundColor:e.colorTokens.background.accent.secondary.base,transform:"translateX(100%)",animation:"".concat(i," 1s ease-in-out infinite"),animationDelay:".8s",left:"0",right:"0"}}))}))}))}},71836:(e,t,n)=>{n.d(t,{C:()=>c});var i=n(64467),a=n(96540),r=n(72130),o=n(49287),l=n(79429);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){var t=e.source,n=e.dimension,i=e.sourceProviderData,s=void 0===i?{}:i,c=e.extendSource,u=void 0!==c&&c,m=e.children,p=e.eventData,f=void 0===p?{}:p,v=e.tag,k=void 0===v?"div":v,h=e.style,g=k,y=(0,r.$L)(),b=d(d({},f),{},{dimension:n,locationId:n}),E=(0,l.s)({onPresentedFn:function(){return y.event("upsell.viewed",b)}}),S=d(d({},s),{},{name:t,dimension:n});return a.createElement(g,{ref:E,style:h},a.createElement(o.Ne,{extendSource:u,source:S},m))}},65550:(e,t,n)=>{n.d(t,{L:()=>o});var i=n(80296),a=n(96540),r=n(61333),o=function(){var e=a.useState(!1),t=(0,i.A)(e,2),n=t[0],o=t[1];return a.useEffect((function(){o((0,r.Gz)(navigator.userAgent))}),[]),n}},6565:(e,t,n)=>{n.d(t,{G:()=>a,j:()=>i});var i=function(e){return e||"Untitled story"},a=function(e,t,n){return t?"".concat(e," | ").concat(t):n?"".concat(e," | ").concat(n):e}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/YourStoriesPage.MainContent.fe2fbf71.chunk.js.map